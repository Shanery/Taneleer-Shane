webpackJsonp([1],{"+WN3":function(t,e,s){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"stack-item"},[this._t("default")],2)},staticRenderFns:[]};e.a=n},"696v":function(t,e){},"713q":function(t,e){},FYqN:function(t,e){},Fsrw:function(t,e){},HY8E:function(t,e){},"IU/z":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i=s("NYxO"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},r,!1,function(t){s("OmbH")},null,null).exports,a=s("/ocq"),c=s("Gu7T"),u=s.n(c),l=s("//Fk"),h=s.n(l),d=s("mtWM"),m=s.n(d),f=s("U0v6"),v=s.n(f),p=s("h17U"),g={name:"TwitterCard",props:{post:Object},computed:{imgUrl:function(){return this.post.mainImage.hasOwnProperty("url")?this.post.mainImage.url:null},date:function(){var t=new Date(this.post.createdDate.date);return["Jan","Feb","Mar","Thur","Fri","Sat","Sun"][t.getMonth()]+" "+t.getDate()+" "+t.getHours()+":"+t.getMinutes()},text:function(){return this.$store.getters.linkifyStr(this.post.caption,"Twitter")},userId:function(){return this.post.user}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[t.imgUrl?s("div",{staticClass:"card-image"},[s("img",{attrs:{src:t.imgUrl,alt:""}})]):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"level"},[s("h6",{staticClass:"subtitle g1"},[t._v("@"+t._s(t.userId))]),t._v(" "),s("span",[t._v(t._s(t.date))])]),t._v(" "),s("p",{domProps:{innerHTML:t._s(t.text)}})])])},staticRenderFns:[]},_=s("VU/8")(g,C,!1,null,null,null).exports,b={name:"InstagramCard",props:{post:Object},computed:{imgUrl:function(){return this.post.mainImage.hasOwnProperty("url")?this.post.mainImage.url:null},text:function(){return this.post.caption.length>130?this.$store.getters.linkifyStr(this.post.caption.slice(0,130)+"...","Instagram"):this.$store.getters.linkifyStr(this.post.caption,"Instagram")},userId:function(){return this.post.user}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[t.imgUrl?s("div",{staticClass:"card-image"},[s("img",{attrs:{src:t.imgUrl,alt:""}})]):t._e(),t._v(" "),s("div",{staticClass:"card-body"},[s("h6",{staticClass:"subtitle"},[t._v("@"+t._s(t.userId))]),t._v(" "),s("p",{domProps:{innerHTML:t._s(t.text)}})])])},staticRenderFns:[]},x=s("VU/8")(b,w,!1,null,null,null).exports,P={name:"ThumbCard",props:{post:Object,index:Number},data:function(){return{isHover:!1}},computed:{type:function(){return{Twitter:"TwitterCard",Instagram:"InstagramCard"}[this.post.service]},logo:function(){return{Twitter:p.b,Instagram:p.a}[this.post.service]},linkToOriginal:function(){return this.post.url}},methods:{expandPost:function(){this.$emit("open",this.index)},hoverOver:function(){this.isHover=!0},hoverOut:function(){this.isHover=!1}},components:{TwitterCard:_,InstagramCard:x,FontAwesomeIcon:v.a}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"thumb",class:{hover:t.isHover},on:{mouseover:t.hoverOver,mouseout:t.hoverOut}},[s("div",{staticClass:"card-container",class:{hover:t.isHover},on:{click:t.expandPost}},[s(t.type,{tag:"component",attrs:{post:t.post}})],1),t._v(" "),s("div",{staticClass:"options",class:{hover:t.isHover}},[s("a",{attrs:{href:t.linkToOriginal}},[s("button",{staticClass:"logo-button"},[s("font-awesome-icon",{attrs:{icon:t.logo,size:"2x","fixed-width":""}})],1)])])])},staticRenderFns:[]};var k=s("VU/8")(P,I,!1,function(t){s("713q")},null,null).exports,$=s("1P+R"),y={name:"modal",props:{active:Boolean},components:{FontAwesomeIcon:v.a},computed:{icon:function(){return $.c}},methods:{close:function(){this.$emit("close")}}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal",class:{"is-active":this.active}},[e("div",{staticClass:"modal-background",on:{click:this.close}}),this._v(" "),e("div",{staticClass:"modal-content"},[this._t("default")],2),this._v(" "),e("button",{staticClass:"close",on:{click:this.close}},[e("font-awesome-icon",{attrs:{icon:this.icon,size:"3x"}})],1)])},staticRenderFns:[]};var U=s("VU/8")(y,T,!1,function(t){s("Fsrw")},null,null).exports,H={name:"ModalCard",props:{bars:Boolean},components:{FontAwesomeIcon:v.a},computed:{left:function(){return $.a},right:function(){return $.b}},methods:{prev:function(){this.$emit("prev")},next:function(){this.$emit("next")}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-card-container"},[t.bars?s("div",{staticClass:"bar",on:{click:t.prev}},[s("font-awesome-icon",{attrs:{icon:t.left,size:"3x"}})],1):t._e(),t._v(" "),s("div",{staticClass:"modal-card"},[t._t("default")],2),t._v(" "),t.bars?s("div",{staticClass:"bar",on:{click:t.next}},[s("font-awesome-icon",{attrs:{icon:t.right,size:"3x"}})],1):t._e()])},staticRenderFns:[]};var W=s("VU/8")(H,S,!1,function(t){s("696v")},null,null).exports,O=s("Y+qo"),F={name:"HomePage",components:{ThumbCard:k,Stack:O.a,StackItem:O.b,Modal:U,ModalCard:W},data:function(){return{services:this.$store.state.services,fetching:!1,currentService:"Twitter",currentPost:null,modal:!1}},created:function(){var t=this;for(var e in window.addEventListener("scroll",function(){t.bottomVisible()&&!t.fetching&&(t.fetching=!0,t.getImages(t.services[t.currentService]))}),this.services)if(this.services.hasOwnProperty(e)){var s=this.services[e];this.$set(s,"posts",[]),this.$set(s,"page",0)}},computed:{curPost:function(){return this.services[this.currentService].posts[this.currentPost]},curPosts:function(){return this.services[this.currentService].posts},curServiceLogo:function(){if(this.curPost)return this.$store.state.services[this.curPost.service].logo},imgUrl:function(){var t=this.curPost;return t&&t.mainImage.hasOwnProperty("url")?t.mainImage.url:null},text:function(){if(this.curPost)return this.$store.getters.linkifyStr(this.curPost.caption,this.currentService)},userId:function(){if(this.curPost)return this.curPost.user},linkToOriginal:function(){if(this.curPost)return this.curPost.url}},methods:{getImages:function(t,e){var s=this;return new h.a(function(e,n){var i=s;i.fetching=!0,m.a.get("https://taneleer.composedcreative.com/api/v1/feed/a0329f16-9225-11e6-89bb-296a97b9d609/fabb8b71-496e-11e8-afe9-1253691739d7",{params:{"filter[services]":[t.name],"page[number]":t.page,"page[size]":30}}).then(function(e){var s,n=e.data.data;(s=t.posts).push.apply(s,u()(n)),t.page++,this.populateColumns(n)}.bind(s)).then(function(){return new h.a(function(t){setTimeout(t,1e3),i.fetching=!1,t(null)})}).catch(function(t){i.fetching=!1})})},bottomVisible:function(){var t=window.scrollY,e=document.documentElement.clientHeight,s=document.documentElement.scrollHeight;return e+t>=s-2*e||s<e},expandPost:function(t){this.currentPost=t,this.modal=!0},prevPost:function(){this.currentPost>0&&(this.currentPost-=1)},nextPost:function(){var t=this;if(!this.fetching){var e=this.services[this.currentService].posts;this.currentPost>=e.length-1?(this.fetching=!0,this.getImages(this.services[this.currentService]).then(function(){t.currentPost+=1})):this.currentPost+=1}},changeService:function(t){this.currentService=t}},mounted:function(){for(var t in this.fetching=!0,this.services)if(this.services.hasOwnProperty(t)){var e=this.services[t];this.getImages(e)}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"},on:{scroll:t.bottomVisible}},[s("div",{attrs:{id:"select-source"}},[s("div",{staticClass:"tabs"},t._l(t.services,function(e,n){return s("button",{staticClass:"tab",class:{"is-active":n==t.currentService},on:{click:function(e){t.changeService(n)}}},[t._v("\n        "+t._s(n)+"\n        "),s("font-awesome-icon",{attrs:{icon:e.logo}})],1)}))]),t._v(" "),s("div",{staticClass:"wall"},[s("stack",{attrs:{"column-min-width":240,"gutter-width":0,"gutter-height":0,"monitor-images-loaded":!0}},t._l(t.curPosts,function(e,n){return s("stack-item",{key:n},[s("thumb-card",{attrs:{post:e,index:n},on:{open:t.expandPost}})],1)}))],1),t._v(" "),t.curPost?s("modal",{attrs:{active:t.modal},on:{close:function(e){t.modal=!1}}},[s("modal-card",{attrs:{bars:!0},on:{prev:t.prevPost,next:t.nextPost}},[t.imgUrl?s("div",{staticClass:"modal-card-image"},[s("img",{attrs:{src:t.imgUrl}})]):t._e(),t._v(" "),s("div",{staticClass:"modal-card-content"},[s("div",{staticClass:"level"},[s("h3",{staticClass:"title g1"},[t._v("@"+t._s(t.userId))]),t._v(" "),s("a",{staticClass:"logo-link",attrs:{href:t.linkToOriginal}},[s("button",{staticClass:"logo-button"},[s("font-awesome-icon",{attrs:{icon:t.curServiceLogo,size:"3x"}})],1)])]),t._v(" "),s("hr"),t._v(" "),s("p",{staticClass:"text",domProps:{innerHTML:t._s(t.text)}})])])],1):t._e()],1)},staticRenderFns:[]};var M=s("VU/8")(F,E,!1,function(t){s("FYqN")},null,null).exports;n.default.use(a.a);var N=new a.a({routes:[{path:"/",name:"HomePage",component:M}]}),L=s("t30Z"),V=s("uTQA"),z=s.n(V);s("nN35");n.default.config.productionTip=!1,n.default.component("font-awesome-icon",v.a),n.default.use(i.a),z()(L);var R=new i.a.Store({state:{services:{Twitter:{name:"Twitter",logo:p.b,hashtagUrl:"https://twitter.com/hashtag/"},Instagram:{name:"Instagram",logo:p.a,hashtagUrl:"https://instagram.com/explore/tags/"}}},getters:{linkifyStr:function(t){return function(e,s){return e.linkify({formatHref:function(e,n){return"hashtag"===n&&(e=t.services[s].hashtagUrl+e.substring(1),"Twitter"==s&&(e+="?src=hash")),e}})}}}});new n.default({el:"#app",router:N,store:R,components:{App:o},template:"<App/>"})},OmbH:function(t,e){},X7kG:function(t,e,s){"use strict";var n=s("iPd/"),i={props:{columnMinWidth:{type:Number,required:!0},gutterWidth:{type:Number,default:0},gutterHeight:{type:Number,default:0},monitorImagesLoaded:{type:Boolean,default:!1}},data:function(){return{containerWidth:0,columnCount:0,columnWidth:0,baseColumns:[]}},mounted:function(){window.addEventListener("resize",this.reflow),this.update()},methods:{updateColumnData:function(){this.containerWidth=this.getContainerWidth(),this.columnCount=this.getColumnCount(),this.columnWidth=this.getColumnWidth()},getContainerWidth:function(){return this.$refs.container.clientWidth},getColumnCount:function(){for(var t=1;;t++){if(t*this.columnMinWidth+(t-1)*this.gutterWidth>this.containerWidth)return Math.max(t-1,1)}},getColumnWidth:function(){return(this.containerWidth-(this.columnCount-1)*this.gutterWidth)/this.columnCount},getBaseColumns:function(){for(var t=[],e=0;e<this.columnCount;e++)t.push({x:e*(this.columnWidth+this.gutterWidth),h:0});return t},update:function(){this.$nextTick(this.reflow)},reflow:function(){var t=this;this.updateColumnData();var e=this.getBaseColumns();this.$children.forEach(function(s,n){s.$el.style.width=t.columnWidth+"px";var i=0;if(n<t.columnCount)i=n;else{var r=-1;e.forEach(function(t,e){(-1==r||t.h<r)&&(i=e,r=t.h)})}s.$el.style.left=e[i].x+"px",s.$el.style.top=e[i].h+"px",e[i].h+=s.$el.offsetHeight+t.gutterHeight});var s=0;e.forEach(function(t){return s=Math.max(s,t.h)}),this.$el.style.height=s+"px"},imagesLoaded:function(){this.monitorImagesLoaded&&this.reflow()}},directives:{imagesLoaded:s.n(n).a}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"images-loaded",rawName:"v-images-loaded",value:this.imagesLoaded,expression:"imagesLoaded"}],ref:"container",staticClass:"container"},[this._t("default")],2)},staticRenderFns:[]};var o=s("VU/8")(i,r,!1,function(t){s("HY8E")},null,null);e.a=o.exports},kdLz:function(t,e,s){"use strict";var n=s("pNp3"),i=s.n(n),r=s("+WN3");var o=function(t){s("IU/z")},a=s("VU/8")(i.a,r.a,!1,o,null,null);e.default=a.exports},pNp3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7e06b21387ebaa734e85.js.map